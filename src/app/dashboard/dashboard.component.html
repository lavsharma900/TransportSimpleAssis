<div class="form-container">
    <input [(ngModel)]="startPoint" placeholder="Start Point">
    <input [(ngModel)]="endPoint" placeholder="End Point">
    <button (click)="addTrip()">Add Trip</button>
  </div>
  
  <div class="timeline">
    <svg width="100%" height="200">
      <defs>
        <marker id="arrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
          <polygon points="0 0, 10 3.5, 0 7" fill="#2196f3" />
        </marker>
      </defs>
  
      <ng-container *ngFor="let trip of trips; let i = index">
        <g [attr.transform]="'translate(' + (50 + i * 150) + ',' + (trip.level === 2 ? 60 : 120) + ')'">
          <ng-container *ngIf="trips.length > 1">
            <path
            [attr.d]="trips[i]?.d"
            [attr.stroke]="trips[i]?.stroke" stroke-width="2" [attr.marker-end]="trips[i].mend" fill="transparent"/>
          </ng-container>
          <ng-container>
            <circle r="5" [attr.fill]="trip.color"></circle>
            <text x="-15" y="20" font-size="12">{{ trip.shortStart }} - {{ trip.shortEnd }}</text>
          </ng-container>
        </g>
      </ng-container>
    </svg>
  </div>